-- 创建成语表
CREATE TABLE IF NOT EXISTS idiom (
    id SERIAL PRIMARY KEY,
    name VARCHAR(4) NOT NULL UNIQUE,
    pinyin VARCHAR(255) NOT NULL,
    meaning TEXT
);

-- 插入50个四字成语
INSERT INTO idiom (name, pinyin, meaning) VALUES
('一帆风顺', 'yī fán fēng shùn', '比喻非常顺利，没有任何阻碍'),
('二龙戏珠', 'èr lóng xì zhū', '两条龙相对，戏玩着一颗宝珠'),
('三生有幸', 'sān shēng yǒu xìng', '形容极为幸运'),
('四面楚歌', 'sì miàn chǔ gē', '比喻陷入四面受敌、孤立无援的境地'),
('五福临门', 'wǔ fú lín mén', '五种福气同时降临家门'),
('六六大顺', 'liù liù dà shùn', '形容一切都很顺利'),
('七上八下', 'qī shàng bā xià', '形容心里慌乱不安'),
('八面玲珑', 'bā miàn líng lóng', '形容人处世圆滑，待人接物面面俱到'),
('九九归一', 'jiǔ jiǔ guī yī', '比喻转来转去最后又还了原'),
('十全十美', 'shí quán shí měi', '形容十分完美，没有缺陷'),
('百年好合', 'bǎi nián hǎo hé', '夫妻永远和好之意'),
('千载难逢', 'qiān zǎi nán féng', '一千年里也难碰到一次，形容机会极其难得'),
('万事如意', 'wàn shì rú yì', '一切事情都很顺利'),
('意气风发', 'yì qì fēng fā', '形容精神振奋，气概豪迈'),
('发扬光大', 'fā yáng guāng dà', '使好的作风、传统等得到发展和提高'),
('大快人心', 'dà kuài rén xīn', '指坏人坏事受到惩罚或打击，使大家非常痛快'),
('心口如一', 'xīn kǒu rú yī', '心里想的和嘴里说的一样，形容诚实直爽'),
('一气呵成', 'yī qì hē chéng', '形容文章结构紧凑，文气连贯，也比喻做一件事安排紧凑，迅速不间断地完成'),
('成人之美', 'chéng rén zhī měi', '成全别人的好事'),
('美中不足', 'měi zhōng bù zú', '大体很好，但还有不足'),
('足智多谋', 'zú zhì duō móu', '富有智慧，善于谋划，形容人善于料事和用计'),
('谋事在人', 'móu shì zài rén', '谋划事情要靠人去努力'),
('人定胜天', 'rén dìng shèng tiān', '指人的智慧和力量可以战胜自然'),
('天伦之乐', 'tiān lún zhī lè', '泛指家庭的乐趣'),
('乐极生悲', 'lè jí shēng bēi', '高兴到极点时，发生使人悲伤的事'),
('悲欢离合', 'bēi huān lí hé', '泛指生活中经历的各种境遇和由此产生的各种心情'),
('合情合理', 'hé qíng hé lǐ', '符合情理'),
('理直气壮', 'lǐ zhí qì zhuàng', '理由充分，说话气势就壮'),
('壮志凌云', 'zhuàng zhì líng yún', '形容理想宏伟远大'),
('云开见日', 'yún kāi jiàn rì', '拔开云雾，见到太阳，比喻黑暗已经过去，光明已经到来'),
('日新月异', 'rì xīn yuè yì', '每天都在更新，每月都有变化，指发展或进步迅速，不断出现新事物、新气象'),
('异想天开', 'yì xiǎng tiān kāi', '比喻凭空的、根本没有的事情，指想法很不切实际，非常奇怪'),
('开天辟地', 'kāi tiān pì dì', '古代神话传说：盘古氏开辟天地，开始有人类历史，后常比喻空前的，自古以来没有过的'),
('地久天长', 'dì jiǔ tiān cháng', '时间长，日子久'),
('长生不老', 'cháng shēng bù lǎo', '长生：永生，原为道教的话，后也用作对年长者的祝愿语'),
('老当益壮', 'lǎo dāng yì zhuàng', '当：应该，益：更加，壮：雄壮，年纪虽老而志气更旺盛，干劲更足'),
('壮志未酬', 'zhuàng zhì wèi chóu', '酬：实现，旧指潦倒的一生，志向没有实现就衰老了，也指抱负没有实现就去世了'),
('踌躇满志', 'chóu chú mǎn zhì', '踌躇：从容自得的样子，满：满足，志：志愿，形容对自己取得的成就非常得意'),
('志同道合', 'zhì tóng dào hé', '道：途径，志趣相同，意见一致'),
('合二为一', 'hé èr wéi yī', '指将两者合为一个整体'),
('顺手牵羊', 'shùn shǒu qiān yáng', '顺手把人家的羊牵走，比喻趁势将敌手捉住或乘机利用别人，现比喻乘机拿走别人的东西'),
('羊肠小道', 'yáng cháng xiǎo dào', '曲折而极窄的路（多指山路）'),
('道听途说', 'dào tīng tú shuō', '道、途：路，路上听来的、路上传播的话，泛指没有根据的传闻'),
('说三道四', 'shuō sān dào sì', '形容不负责任地胡乱议论');

-- 创建索引以提高查询性能
CREATE INDEX IF NOT EXISTS idx_idiom_name ON idiom (name);
CREATE INDEX IF NOT EXISTS idx_idiom_first_char ON idiom (substring(name, 1, 1));
CREATE INDEX IF NOT EXISTS idx_idiom_last_char ON idiom (substring(name, 4, 1));